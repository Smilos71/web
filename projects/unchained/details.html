<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Details</title>
    <style>
        :root { --android-lime: #a5c736; }
        body { background: white; font-family: 'Roboto', sans-serif; margin: 0; }
        header { background: var(--android-lime); color: white; padding: 15px; display: flex; align-items: center; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }
        header a { color: white; text-decoration: none; font-size: 1.5rem; margin-right: 15px; }
        .hero { display: flex; padding: 25px; background: #fafafa; border-bottom: 4px solid var(--android-lime); align-items: center; }
        .icon-large { 
            width: 80px; height: 80px; background: var(--android-lime); border-radius: 15px;
            margin-right: 20px; display: flex; align-items: center; justify-content: center; 
            color: white; font-size: 2.2rem; font-weight: bold; overflow: hidden;
        }
        .icon-large img { width: 100%; height: 100%; object-fit: cover; }
        .hero-info h1 { margin: 0; font-size: 1.5rem; color: #212121; }
        .dev-row { display: flex; align-items: center; color: #666; font-weight: 500; margin-top: 4px; }
        .verified-badge { height: 16px; width: 16px; margin-left: 5px; fill: var(--android-lime); }
        .install-row { padding: 30px; text-align: center; }
        .btn { background: var(--android-lime); color: white; padding: 15px 60px; text-decoration: none; font-weight: bold; border-radius: 4px; display: inline-block; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .description-box { padding: 20px; border-top: 1px solid #eee; }
        .ver-tag { margin-top: 20px; color: #aaa; font-size: 0.8rem; }
    </style>
</head>
<body>
    <header><a href="index.html">‚Üê</a><span style="font-weight:bold;text-transform:uppercase;">App Details</span></header>
    <div id="content"></div>

    <script>
        const appId = new URLSearchParams(window.location.search).get('id');

        async function loadDetail() {
            try {
                const res = await fetch(`https://raw.githubusercontent.com/Smilos71/unchained/main/apps/${appId}.json`);
                const app = await res.json();
                
                const iconHTML = app.icon ? `<img src="${app.icon}" onerror="this.style.display='none'">` : app.name[0];
                const verifiedIcon = `<svg class="verified-badge" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>`;

                document.getElementById('content').innerHTML = `
                    <div class="hero">
                        <div class="icon-large">${iconHTML}</div>
                        <div class="hero-info">
                            <h1>${app.name}</h1>
                            <div class="dev-row">
                                ${app.developer} ${app.developer_verified ? verifiedIcon : ''}
                            </div>
                        </div>
                    </div>
                    <div class="install-row"><a href="${app.url}" class="btn">INSTALL</a></div>
                    <div class="description-box">
                        <h2 style="font-size:0.9rem; color:#888;">DESCRIPTION</h2>
                        <div style="line-height:1.6;">${app.description}</div>
                        <div class="ver-tag">VERSION: ${app.ver}</div>
                    </div>`;
            } catch (err) { document.getElementById('content').innerHTML = '<p style="padding:20px;">App not found.</p>'; }
        }
        loadDetail();
    </script>
</body>
</html>